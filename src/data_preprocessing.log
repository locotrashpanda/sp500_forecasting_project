2025-03-29 23:58:33,287 - INFO - Starting data processing...
2025-03-29 23:58:33,298 - INFO - Adding technical indicators...
2025-03-29 23:58:33,309 - INFO - Adding temporal features...
2025-03-29 23:58:33,314 - INFO - Adding lag features...
2025-03-29 23:58:33,322 - INFO - Adding feature interactions...
2025-03-29 23:58:33,325 - INFO - Handling missing values...
2025-03-29 23:58:33,346 - INFO - Removed rows: 50
2025-03-29 23:58:33,347 - INFO - Normalizing data...
2025-03-29 23:58:44,999 - INFO - Data successfully saved to database
2025-03-29 23:58:45,000 - INFO - Processing complete. Final data shape: (1207, 54)
2025-03-30 05:34:14,468 - INFO - Starting data processing...
2025-03-30 05:34:14,479 - INFO - Adding technical indicators...
2025-03-30 05:34:14,491 - INFO - Adding temporal features...
2025-03-30 05:34:14,495 - INFO - Adding lag features...
2025-03-30 05:34:14,504 - INFO - Adding feature interactions...
2025-03-30 05:34:14,506 - INFO - Handling missing values...
2025-03-30 05:34:14,527 - INFO - Removed rows: 50
2025-03-30 05:34:14,527 - INFO - Normalizing data...
2025-03-30 05:34:25,610 - INFO - Data successfully saved to database
2025-03-30 05:34:25,610 - INFO - Processing complete. Final data shape: (1207, 54)
2025-03-30 06:10:55,447 - INFO - Starting data processing...
2025-03-30 06:10:55,546 - INFO - Loaded data with shape: (18681, 7)
2025-03-30 06:10:55,546 - INFO - Adding technical indicators...
2025-03-30 06:10:55,569 - INFO - Adding temporal features...
2025-03-30 06:10:55,681 - INFO - Adding lag features...
2025-03-30 06:10:55,701 - INFO - Adding feature interactions...
2025-03-30 06:10:55,708 - INFO - Adding VIX features...
2025-03-30 06:10:55,759 - INFO - VIX features added successfully
2025-03-30 06:10:55,760 - INFO - Handling missing values...
2025-03-30 06:10:55,781 - INFO - Initial missing values: 1246
2025-03-30 06:10:56,021 - INFO - Final missing values: 0
2025-03-30 06:10:56,024 - INFO - Normalizing data...
2025-03-30 06:10:58,311 - INFO - Feature distribution plot saved to reports/feature_distributions.png
2025-03-30 06:11:01,909 - INFO - Data successfully saved to database, shape: (18681, 94)
2025-03-30 06:11:01,909 - INFO - Processing complete. Final data shape: (18681, 94)
2025-03-30 08:14:12,850 - INFO - Starting data processing...
2025-03-30 08:14:12,946 - INFO - Loaded data with shape: (18681, 7)
2025-03-30 08:14:12,946 - INFO - Adding technical indicators...
2025-03-30 08:14:12,969 - INFO - Adding temporal features...
2025-03-30 08:14:12,998 - INFO - Adding lag features...
2025-03-30 08:14:13,019 - INFO - Adding feature interactions...
2025-03-30 08:14:13,026 - INFO - Adding VIX features...
2025-03-30 08:14:13,073 - INFO - VIX features added successfully
2025-03-30 08:14:13,075 - INFO - Handling missing values...
2025-03-30 08:14:13,092 - INFO - Initial missing values: 1246
2025-03-30 08:14:13,293 - INFO - Final missing values: 0
2025-03-30 08:14:13,296 - INFO - Normalizing data...
2025-03-30 08:14:15,506 - INFO - Feature distribution plot saved to reports/feature_distributions.png
2025-03-30 08:14:19,372 - INFO - Data successfully saved to database, shape: (18681, 94)
2025-03-30 08:14:19,372 - INFO - Processing complete. Final data shape: (18681, 94)
2025-03-30 17:08:30,014 - INFO - Starting data processing...
2025-03-30 17:08:30,952 - INFO - Loaded data with shape: (18681, 7)
2025-03-30 17:08:30,958 - INFO - Date range: 1951-01-02 00:00:00-05:00 to 2025-03-28 00:00:00-04:00
2025-03-30 17:08:30,958 - INFO - Initial S&P 500 price range: 20.69 to 6144.15
2025-03-30 17:08:30,958 - INFO - Adding technical indicators...
2025-03-30 17:08:30,992 - INFO - Adding temporal features...
2025-03-30 17:08:30,993 - ERROR - Error processing data: Can only use .dt accessor with datetimelike values
Traceback (most recent call last):
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\src\02_data_preprocess.py", line 406, in preprocess_data
    df = add_temporal_features(df)
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\src\02_data_preprocess.py", line 86, in add_temporal_features
    df['Day_of_week'] = df['Date'].dt.dayofweek
                        ^^^^^^^^^^^^^
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\.venv\Lib\site-packages\pandas\core\generic.py", line 6299, in __getattr__
    return object.__getattribute__(self, name)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\.venv\Lib\site-packages\pandas\core\accessor.py", line 224, in __get__
    accessor_obj = self._accessor(obj)
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\.venv\Lib\site-packages\pandas\core\indexes\accessors.py", line 643, in __new__
    raise AttributeError("Can only use .dt accessor with datetimelike values")
AttributeError: Can only use .dt accessor with datetimelike values
2025-03-30 17:24:36,565 - INFO - Starting data processing...
2025-03-30 17:24:36,661 - INFO - Loaded data with shape: (18681, 7)
2025-03-30 17:24:36,662 - INFO - Date range: 1951-01-02 00:00:00 to 2025-03-28 00:00:00
2025-03-30 17:24:36,662 - INFO - Initial S&P 500 price range: 20.69 to 6144.15
2025-03-30 17:24:36,662 - INFO - Adding technical indicators...
2025-03-30 17:24:36,689 - INFO - Adding temporal features...
2025-03-30 17:24:36,771 - INFO - Adding lag features...
2025-03-30 17:24:36,784 - INFO - Adding feature interactions...
2025-03-30 17:24:36,791 - INFO - Adding VIX features...
2025-03-30 17:24:36,842 - INFO - VIX features added successfully
2025-03-30 17:24:36,844 - INFO - Handling missing values...
2025-03-30 17:24:36,849 - INFO - Initial missing values: 1006
2025-03-30 17:24:36,854 - INFO - Columns with most missing values: 
MA_200            199
Vol_Relative       68
MA_50_Lag_5        54
MA_50_Lag_1        50
Price_to_MA_50     49
MA_50              49
Trend_Strength     49
MA_20_Lag_5        24
Return_Lag_21      22
Price_Lag_21       21
dtype: int64
2025-03-30 17:24:37,046 - INFO - Final missing values: 0
2025-03-30 17:24:37,047 - INFO - Transforming target variable: Close
2025-03-30 17:24:43,104 - INFO - Feature visualizations saved to reports/before_scaling/
2025-03-30 17:24:43,108 - INFO - Target variable information saved: Mean=873.12, Std=1204.09
2025-03-30 17:24:43,108 - INFO - Scaling features...
2025-03-30 17:24:47,332 - INFO - Feature visualizations saved to reports/after_scaling/
2025-03-30 17:24:50,761 - INFO - Data successfully saved to database, shape: (18681, 98)
2025-03-30 17:24:50,763 - INFO - Processing complete. Final data shape: (18681, 98)
2025-03-30 17:24:50,763 - INFO - Feature count: 81
2025-03-31 06:45:19,172 - INFO - Starting data processing...
2025-03-31 06:45:19,268 - INFO - Loaded data with shape: (18681, 7)
2025-03-31 06:45:19,268 - INFO - Date range: 1951-01-02 00:00:00 to 2025-03-28 00:00:00
2025-03-31 06:45:19,269 - INFO - Initial S&P 500 price range: 20.69 to 6144.15
2025-03-31 06:45:19,269 - INFO - Adding technical indicators...
2025-03-31 06:45:19,296 - INFO - Adding temporal features...
2025-03-31 06:45:19,329 - INFO - Adding lag features...
2025-03-31 06:45:19,343 - INFO - Adding feature interactions...
2025-03-31 06:45:19,351 - INFO - Adding VIX features...
2025-03-31 06:45:19,404 - INFO - VIX features added successfully
2025-03-31 06:45:19,405 - INFO - Handling missing values...
2025-03-31 06:45:19,410 - INFO - Initial missing values: 1006
2025-03-31 06:45:19,417 - INFO - Columns with most missing values: 
MA_200            199
Vol_Relative       68
MA_50_Lag_5        54
MA_50_Lag_1        50
Price_to_MA_50     49
MA_50              49
Trend_Strength     49
MA_20_Lag_5        24
Return_Lag_21      22
Price_Lag_21       21
dtype: int64
2025-03-31 06:45:19,613 - INFO - Final missing values: 0
2025-03-31 06:45:19,615 - INFO - Transforming target variable: Close
2025-03-31 06:45:19,629 - WARNING - Filling NaN values in Next_Day_Return
2025-03-31 06:45:19,630 - WARNING - Filling NaN values in Next_Log_Close
2025-03-31 06:45:19,632 - WARNING - Filling NaN values in Return_1d
2025-03-31 06:45:19,633 - WARNING - Filling NaN values in Return_3d
2025-03-31 06:45:19,634 - WARNING - Filling NaN values in Return_5d
2025-03-31 06:45:19,635 - WARNING - Filling NaN values in Return_10d
2025-03-31 06:45:19,637 - WARNING - Filling NaN values in Next_Close_1d
2025-03-31 06:45:19,637 - WARNING - Filling NaN values in Next_Close_3d
2025-03-31 06:45:19,638 - WARNING - Filling NaN values in Next_Close_5d
2025-03-31 06:45:19,639 - WARNING - Filling NaN values in Next_Close_10d
2025-03-31 06:45:26,071 - INFO - Feature visualizations saved to reports/before_scaling/
2025-03-31 06:45:26,076 - INFO - Target variable information saved: Mean=873.12, Std=1204.09
2025-03-31 06:45:26,076 - ERROR - Error processing data: name 'scale_features' is not defined
Traceback (most recent call last):
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\src\02_data_preprocess.py", line 423, in preprocess_data
    df_scaled, scaler = scale_features(df)
                        ^^^^^^^^^^^^^^
NameError: name 'scale_features' is not defined
2025-03-31 06:55:50,586 - INFO - Starting data processing...
2025-03-31 06:55:50,679 - INFO - Loaded data with shape: (18681, 7)
2025-03-31 06:55:50,680 - INFO - Date range: 1951-01-02 00:00:00 to 2025-03-28 00:00:00
2025-03-31 06:55:50,680 - INFO - Initial S&P 500 price range: 20.69 to 6144.15
2025-03-31 06:55:50,680 - INFO - Adding technical indicators...
2025-03-31 06:55:50,714 - INFO - Adding temporal features...
2025-03-31 06:55:50,747 - INFO - Adding lag features...
2025-03-31 06:55:50,761 - INFO - Adding feature interactions...
2025-03-31 06:55:50,768 - INFO - Adding VIX features...
2025-03-31 06:55:50,821 - INFO - VIX features added successfully
2025-03-31 06:55:50,823 - INFO - Handling missing values...
2025-03-31 06:55:50,828 - INFO - Initial missing values: 1006
2025-03-31 06:55:50,833 - INFO - Columns with most missing values: 
MA_200            199
Vol_Relative       68
MA_50_Lag_5        54
MA_50_Lag_1        50
Price_to_MA_50     49
MA_50              49
Trend_Strength     49
MA_20_Lag_5        24
Return_Lag_21      22
Price_Lag_21       21
dtype: int64
2025-03-31 06:55:51,014 - INFO - Final missing values: 0
2025-03-31 06:55:51,016 - INFO - Transforming target variable: Close
2025-03-31 06:55:51,029 - WARNING - Filling NaN values in Next_Day_Return
2025-03-31 06:55:51,029 - WARNING - Filling NaN values in Next_Log_Close
2025-03-31 06:55:51,030 - WARNING - Filling NaN values in Return_1d
2025-03-31 06:55:51,031 - WARNING - Filling NaN values in Return_3d
2025-03-31 06:55:51,032 - WARNING - Filling NaN values in Return_5d
2025-03-31 06:55:51,032 - WARNING - Filling NaN values in Return_10d
2025-03-31 06:55:51,033 - WARNING - Filling NaN values in Next_Close_1d
2025-03-31 06:55:51,034 - WARNING - Filling NaN values in Next_Close_3d
2025-03-31 06:55:51,034 - WARNING - Filling NaN values in Next_Close_5d
2025-03-31 06:55:51,035 - WARNING - Filling NaN values in Next_Close_10d
2025-03-31 06:55:56,972 - INFO - Feature visualizations saved to reports/before_scaling/
2025-03-31 06:55:56,976 - INFO - Target variable information saved: Mean=873.12, Std=1204.09
2025-03-31 06:55:56,976 - INFO - Scaling features...
2025-03-31 06:55:57,343 - ERROR - Error processing data: name 'json' is not defined
Traceback (most recent call last):
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\src\02_data_preprocess.py", line 455, in preprocess_data
    df_scaled, scaler = scale_features(df)
                        ~~~~~~~~~~~~~~^^^^
  File "C:\Users\LocoTrashPanda\PycharmProjects\sp500_forecasting_project\src\02_data_preprocess.py", line 397, in scale_features
    json.dump(columns_to_scale, f)
    ^^^^
NameError: name 'json' is not defined. Did you forget to import 'json'?
2025-03-31 06:57:35,245 - INFO - Starting data processing...
2025-03-31 06:57:35,343 - INFO - Loaded data with shape: (18681, 7)
2025-03-31 06:57:35,344 - INFO - Date range: 1951-01-02 00:00:00 to 2025-03-28 00:00:00
2025-03-31 06:57:35,345 - INFO - Initial S&P 500 price range: 20.69 to 6144.15
2025-03-31 06:57:35,345 - INFO - Adding technical indicators...
2025-03-31 06:57:35,375 - INFO - Adding temporal features...
2025-03-31 06:57:35,410 - INFO - Adding lag features...
2025-03-31 06:57:35,425 - INFO - Adding feature interactions...
2025-03-31 06:57:35,433 - INFO - Adding VIX features...
2025-03-31 06:57:35,488 - INFO - VIX features added successfully
2025-03-31 06:57:35,490 - INFO - Handling missing values...
2025-03-31 06:57:35,495 - INFO - Initial missing values: 1006
2025-03-31 06:57:35,501 - INFO - Columns with most missing values: 
MA_200            199
Vol_Relative       68
MA_50_Lag_5        54
MA_50_Lag_1        50
Price_to_MA_50     49
MA_50              49
Trend_Strength     49
MA_20_Lag_5        24
Return_Lag_21      22
Price_Lag_21       21
dtype: int64
2025-03-31 06:57:35,703 - INFO - Final missing values: 0
2025-03-31 06:57:35,704 - INFO - Transforming target variable: Close
2025-03-31 06:57:35,717 - WARNING - Filling NaN values in Next_Day_Return
2025-03-31 06:57:35,718 - WARNING - Filling NaN values in Next_Log_Close
2025-03-31 06:57:35,718 - WARNING - Filling NaN values in Return_1d
2025-03-31 06:57:35,719 - WARNING - Filling NaN values in Return_3d
2025-03-31 06:57:35,720 - WARNING - Filling NaN values in Return_5d
2025-03-31 06:57:35,720 - WARNING - Filling NaN values in Return_10d
2025-03-31 06:57:35,721 - WARNING - Filling NaN values in Next_Close_1d
2025-03-31 06:57:35,722 - WARNING - Filling NaN values in Next_Close_3d
2025-03-31 06:57:35,722 - WARNING - Filling NaN values in Next_Close_5d
2025-03-31 06:57:35,723 - WARNING - Filling NaN values in Next_Close_10d
2025-03-31 06:57:41,776 - INFO - Feature visualizations saved to reports/before_scaling/
2025-03-31 06:57:41,779 - INFO - Target variable information saved: Mean=873.12, Std=1204.09
2025-03-31 06:57:41,780 - INFO - Scaling features...
2025-03-31 06:57:42,120 - INFO - Features scaled: 70 columns
2025-03-31 06:57:46,106 - INFO - Feature visualizations saved to reports/after_scaling/
2025-03-31 06:57:49,766 - INFO - Data successfully saved to database, shape: (18681, 98)
2025-03-31 06:57:49,769 - INFO - Processing complete. Final data shape: (18681, 98)
2025-03-31 06:57:49,769 - INFO - Feature count: 81
